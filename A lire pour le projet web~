Projet réalisé par Adolphe Dylan et Mathieu Bergnes

------------Probleme lors du lancement du site (variable ou autre)----------
Probleme de lecture->Créer un utilisateur postgresql ayant (ou alors adapter les fichiers pour accéder à la database):
nom: master
mot de passe: master
faire dans le terminal pour la variable ENV['TESTPRO_DATABASE_PASSWORD'](car le mot de passe est pas en clair dans le fichier database.yml): 
export TESTPRO_DATABASE_PASSWORD=master


->Pour l'envoie des mails, pour régler la variable de mot de passe du compte mail du site ENV['PASSMAILSITE'], écrire :
export PASSMAILSITE=Japan6700 
et peut-être export $PASSMAILSITE=Japan6700
Si jamais le problème de mail persiste, lancer le serveur rails depuis le terminal où la commande a été écrite, modifier directement le mot de passe dans les fichiers pour mettre Japan6700

->Pour avoir les mails périodiques :
whenever --update-cron mail_recapitulatif
crontab -e puis changer production en development (car on est en mode dévelopment, sinon l'envoie de mail périodique ne fonctionne pas)
sudo service cron restart
crontab -l pour voir que le changement a bien été fait
Pour tester facilement les mails périodiques, on peut forcer l'envoie du mail en copiant collant la commande de crontab -l


->En production, si probleme de secret key :
Lancer irb
require 'securerandom'
SecureRandom.hex(64)
Ecrire ça dans le terminal
export SECRET_KEY_BASE=clegenerepar securerandom

->Lancer rake db:drop db:create db:migrate db:seed pour la database
----------------

-----------Remarques:
->voir les seeds situés dans db/ pour voir les emails ainsi que leur mot de passe(tous ont pour mdp: testtest)
-Admin:
mathieu@yopmail.com
dylan@yopmail
-Utilisateur:
test@yopmail.com
marie2@yopmail.com
pierre56@yopmail.com

->Pour créer un admin, créer un utilisateur, et après modifier dans la db et mettre true pour admin(impossible de créer un admin
depuis le site)

->Les mails périodiques ne fonctionnent pas sous heroku car il faut utiliser heroku scheduler(gratuit
mais il faut valider son compte par les informations de sa cb) au lieu de cron.

------------


si les users peuvent pas se troll, voir si les adresse mail recoivent le mail (mathieu@yopmail.com, test@yopmail.com)
voir si periodique envoie juste ceux de 7j, verifier aucun oublie de trad


ATTENTION agrandir case description par exemple



BLABLA:
article supprimé si user delete ( a montrer : D)
erreur si pas de page trouvé (mauvais lien), montré :D
(cf http://easyactiverecord.com/blog/2014/08/19/redirecting-to-custom-404-and-500-pages-in-rails/ pour revert setting sinon, jai mis ca meme en mode development, donc pas de message derreur mais genre 500 ou 404.. ou autre) >> faire true pour   config.consider_all_requests_local       = false de development.rb ds environment enfin non c'est true
attention y a le mdp sur git...trololo
service admin : wut is dat
change port production.rb de 5000 à 3000 /!\ mail
= @article.report(current_user,@article.title)
pourquoi y a new et create dans articles_controller.rb, wut?

enlever @user de user controller dans show... vu que ca servait à rien il semblerait
ensiieboncoin@gmail.com

mdp(#thibault): J
info port : 6700


------
------
bin/rake assets:precompile
export RAILS_ENV=production
